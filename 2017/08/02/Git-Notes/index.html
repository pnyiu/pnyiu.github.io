<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Git - Notes | Calvin&#39;s Home</title>
  <meta name="author" content="Calvin Yiu">
  
  <meta name="description" content="Basic Concepts
Working Directory
Staging Area (.git/index)
.git directory

Useful Commands
Configuration files

Repository config file: .git/config

System config file: ~/.gitconfig
.git\config123456789101112131415161718192021222324252627[core]        repositoryformatversion = 0        filemode = false        bare = false        logallrefupdates = true        worktree = C:/git/myrepo        ignorecase = true[submodule]        active = .[remote &amp;quot;origin&amp;quot;]        url = https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepo        fetch = +refs/heads/*:refs/remotes/origin/*[branch &amp;quot;master&amp;quot;]        remote = origin        merge = refs/heads/master[branch &amp;quot;release/prod&amp;quot;]        remote = origin        merge = refs/heads/release/prod        remote = origin        merge = refs/heads/release/preprod[branch &amp;quot;release/test&amp;quot;]        remote = origin        merge = refs/heads/release/test[branch &amp;quot;release/dev&amp;quot;]        remote = origin        merge = refs/heads/release/dev


git remote
  1234567891011121314151617181920212223242526272829303132$ git remote showorigin$ git remote -vorigin  https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepo (fetch)origin  https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepo (push)$ git remote show origin* remote originFetch URL: https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepoPush  URL: https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepoHEAD branch: masterRemote branches:    develop         tracked    feature/test    tracked    master          tracked    release/dev     tracked    release/preprod tracked    release/prod    tracked    release/test    trackedLocal branches configured for &amp;#x27;git pull&amp;#x27;:    master          merges with remote master    release/dev     merges with remote release/dev    release/preprod merges with remote release/preprod    release/prod    merges with remote release/prod    release/test    merges with remote release/testLocal refs configured for &amp;#x27;git push&amp;#x27;:    master          pushes to master          (up to date)    release/dev     pushes to release/dev     (up to date)    release/preprod pushes to release/preprod (up to date)    release/prod    pushes to release/prod    (up to date)    release/test    pushes to release/test    (up to date)
git push [repository] [refspec]
12345$ git statusOn branch release/preprod$ git pushEverything up-to-date
git rebase (current branch is topic) 

        A---B---C topic*
       /
  D---E---F---G master

  git rebase master
  git rebase master topic

                A&#39;--B&#39;--C&#39; topic*
               /
  D---E---F---G master



  123456789101112131415161718192021222324$ git log --onelinec60c0d9 (HEAD -&amp;gt; release/dev, origin/release/dev) Upgrade node version16675e8 Update oracledb versione5461ba Update oracledb version4e70188 Change Nodejs version to 1452cf369 Add GEO IP City Function52cf369 -- 4e70188 -- e5461ba -- 16675e8 -- c60c0d9Squash 4e70188 -- e5461ba -- 16675e8 -- c60c0d9 into one commit$ git rebase -i 52cf369pick 4e70188 Change Nodejs version to 14squash e5461ba Update oracledb version # meld into previous commitsquash 16675e8 Update oracledb version # meld into previous commitsquash c60c0d9 Upgrade node versiong   # meld into previous commit52cf369 -- d59392d$ git log --onelined59392d Update Nodejs version to 14 and oracledb version52cf369 Add GEO IP City Function


git merge  (current branch is master)
  
  A---B---C topic
  /
  D---E---F---G master*

  git merge topic

  A---B---C topic
  /         \
  D---E---F---G---H master*
  

12345# Merge topic with current branch$ git merge topicUpdating ea2980a..532a0faFast-forwardREADME.md                       |   2 +-
git pullgit fetch followed by git merge or git rebase (with --rebase)
FETCH_HEAD is a short-lived ref, to keep track of what has just been fetched from the remote repository

    A---B---C master on origin
   /
  D---E---F---G master*
  ^
  origin/master in your repository  

    A---B---C origin/master
   /         \
  D---E---F---G---H master


git fetchgit fetch --all Fetch all remote branchesgit fetch origin master Fetch only remote master branch

git commitRecord changes to the repository-a Automatically stage modified and deleted files but new files are not affected (use git add for new files)

git addAdd file contents to the staging area(index)

git checkoutSwitch branches or restore working tree filesgit checkout [&amp;lt;branch&amp;gt;]-b - create a new branch-B - create a new branch or reset the branch 

git showShows one or more objects (blobs, trees, tags and commits).

git log--oneline  

ancestry references^: the parent of that commit^2: the second parent of that commit (from the branch that was merged (say, topic))~:  first parent~2: first parent of first parent (it traverses the first parents the number of times you specify)~~: first parent of first parent">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Git - Notes"/>
  <meta property="og:site_name" content="Calvin&#39;s Home"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon/favicon.png" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/spacelab.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight-default.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/comment.css" media="screen" type="text/css">

  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  
  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-103782633-2', 'auto');
  ga('send', 'pageview');
</script>




<meta name="generator" content="Hexo 5.4.0"></head>

 <body>  
  <nav id="main-nav" class="navbar  navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">Calvin&#39;s Home</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header ">		
			<h1 class="title "> Git - Notes</h1>
		</div>		
	






<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h2 id="Basic-Concepts"><a href="#Basic-Concepts" class="headerlink" title="Basic Concepts"></a>Basic Concepts</h2><ul>
<li>Working Directory</li>
<li>Staging Area (.git/index)</li>
<li>.git directory</li>
</ul>
<h2 id="Useful-Commands"><a href="#Useful-Commands" class="headerlink" title="Useful Commands"></a>Useful Commands</h2><ul>
<li><p>Configuration files</p>
<ul>
<li><p>Repository config file: .git/config</p>
</li>
<li><p>System config file: ~/.gitconfig</p>
<figure class="highlight bash"><figcaption><span>.git\config</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[core]</span><br><span class="line">        repositoryformatversion = 0</span><br><span class="line">        filemode = <span class="literal">false</span></span><br><span class="line">        bare = <span class="literal">false</span></span><br><span class="line">        logallrefupdates = <span class="literal">true</span></span><br><span class="line">        worktree = C:/git/myrepo</span><br><span class="line">        ignorecase = <span class="literal">true</span></span><br><span class="line">[submodule]</span><br><span class="line">        active = .</span><br><span class="line">[remote <span class="string">&quot;origin&quot;</span>]</span><br><span class="line">        url = https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepo</span><br><span class="line">        fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line">[branch <span class="string">&quot;master&quot;</span>]</span><br><span class="line">        remote = origin</span><br><span class="line">        merge = refs/heads/master</span><br><span class="line">[branch <span class="string">&quot;release/prod&quot;</span>]</span><br><span class="line">        remote = origin</span><br><span class="line">        merge = refs/heads/release/prod</span><br><span class="line">        remote = origin</span><br><span class="line">        merge = refs/heads/release/preprod</span><br><span class="line">[branch <span class="string">&quot;release/test&quot;</span>]</span><br><span class="line">        remote = origin</span><br><span class="line">        merge = refs/heads/release/<span class="built_in">test</span></span><br><span class="line">[branch <span class="string">&quot;release/dev&quot;</span>]</span><br><span class="line">        remote = origin</span><br><span class="line">        merge = refs/heads/release/dev</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>git remote</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">$ git remote show</span><br><span class="line">origin</span><br><span class="line"></span><br><span class="line">$ git remote -v</span><br><span class="line">origin  https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepo (fetch)</span><br><span class="line">origin  https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepo (push)</span><br><span class="line"></span><br><span class="line">$ git remote show origin</span><br><span class="line">* remote origin</span><br><span class="line">Fetch URL: https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepo</span><br><span class="line">Push  URL: https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/myrepo</span><br><span class="line">HEAD branch: master</span><br><span class="line">Remote branches:</span><br><span class="line">    develop         tracked</span><br><span class="line">    feature/<span class="built_in">test</span>    tracked</span><br><span class="line">    master          tracked</span><br><span class="line">    release/dev     tracked</span><br><span class="line">    release/preprod tracked</span><br><span class="line">    release/prod    tracked</span><br><span class="line">    release/<span class="built_in">test</span>    tracked</span><br><span class="line">Local branches configured <span class="keyword">for</span> <span class="string">&#x27;git pull&#x27;</span>:</span><br><span class="line">    master          merges with remote master</span><br><span class="line">    release/dev     merges with remote release/dev</span><br><span class="line">    release/preprod merges with remote release/preprod</span><br><span class="line">    release/prod    merges with remote release/prod</span><br><span class="line">    release/<span class="built_in">test</span>    merges with remote release/<span class="built_in">test</span></span><br><span class="line">Local refs configured <span class="keyword">for</span> <span class="string">&#x27;git push&#x27;</span>:</span><br><span class="line">    master          pushes to master          (up to date)</span><br><span class="line">    release/dev     pushes to release/dev     (up to date)</span><br><span class="line">    release/preprod pushes to release/preprod (up to date)</span><br><span class="line">    release/prod    pushes to release/prod    (up to date)</span><br><span class="line">    release/<span class="built_in">test</span>    pushes to release/<span class="built_in">test</span>    (up to date)</span><br></pre></td></tr></table></figure></li>
<li><p>git push [repository] [refspec]</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch release/preprod</span><br><span class="line"></span><br><span class="line">$ git push</span><br><span class="line">Everything up-to-date</span><br></pre></td></tr></table></figure></li>
<li><p>git rebase (current branch is topic) </p>
<pre>
        A---B---C topic*
       /
  D---E---F---G master

  git rebase master
  git rebase master topic

                A'--B'--C' topic*
               /
  D---E---F---G master

</pre>

  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">c60c0d9 (HEAD -&gt; release/dev, origin/release/dev) Upgrade node version</span><br><span class="line">16675e8 Update oracledb version</span><br><span class="line">e5461ba Update oracledb version</span><br><span class="line">4e70188 Change Nodejs version to 14</span><br><span class="line">52cf369 Add GEO IP City Function</span><br><span class="line"></span><br><span class="line">52cf369 -- 4e70188 -- e5461ba -- 16675e8 -- c60c0d9</span><br><span class="line"></span><br><span class="line">Squash 4e70188 -- e5461ba -- 16675e8 -- c60c0d9 into one commit</span><br><span class="line"></span><br><span class="line">$ git rebase -i 52cf369</span><br><span class="line"></span><br><span class="line">pick 4e70188 Change Nodejs version to 14</span><br><span class="line">squash e5461ba Update oracledb version <span class="comment"># meld into previous commit</span></span><br><span class="line">squash 16675e8 Update oracledb version <span class="comment"># meld into previous commit</span></span><br><span class="line">squash c60c0d9 Upgrade node versiong   <span class="comment"># meld into previous commit</span></span><br><span class="line"></span><br><span class="line">52cf369 -- d59392d</span><br><span class="line"></span><br><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">d59392d Update Nodejs version to 14 and oracledb version</span><br><span class="line">52cf369 Add GEO IP City Function</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>git merge  (current branch is master)</p>
  <pre>
  A---B---C topic
  /
  D---E---F---G master*

  git merge topic

  A---B---C topic
  /         \
  D---E---F---G---H master*
  </pre>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Merge topic with current branch</span></span><br><span class="line">$ git merge topic</span><br><span class="line">Updating ea2980a..532a0fa</span><br><span class="line">Fast-forward</span><br><span class="line">README.md                       |   2 +-</span><br></pre></td></tr></table></figure></li>
<li><p>git pull<br><code>git fetch</code> followed by <code>git merge</code> or <code>git rebase</code> (with --rebase)</p>
<p>FETCH_HEAD is a short-lived ref, to keep track of what has just been fetched from the remote repository</p>
<pre>
    A---B---C master on origin
   /
  D---E---F---G master*
  ^
  origin/master in your repository  

    A---B---C origin/master
   /         \
  D---E---F---G---H master

</pre></li>
<li><p>git fetch<br><code>git fetch --all</code> Fetch all remote branches<br><code>git fetch origin master</code> Fetch only remote master branch</p>
</li>
<li><p>git commit<br>Record changes to the repository<br><code>-a</code> Automatically stage modified and deleted files but <strong>new files are not affected</strong> (use <code>git add</code> for new files)</p>
</li>
<li><p>git add<br>Add file contents to the staging area(index)</p>
</li>
<li><p>git checkout<br>Switch branches or restore working tree files<br><code>git checkout [&lt;branch&gt;]</code><br><code>-b</code> - create a new branch<br><code>-B</code> - create a new branch or reset the branch </p>
</li>
<li><p>git show<br>Shows one or more objects (blobs, trees, tags and commits).</p>
</li>
<li><p>git log<br><code>--oneline</code>  </p>
</li>
<li><p>ancestry references<br><code>^</code>: the parent of that commit<br><code>^2</code>: the second parent of that commit (from the branch that was merged (say, topic))<br><code>~</code>:  first parent<br><code>~2</code>: first parent of first parent (it traverses the first parents the number of times you specify)<br><code>~~</code>: first parent of first parent</p>
</li>
</ul>
<span id="more"></span>

<h2 id="Git-submodules"><a href="#Git-submodules" class="headerlink" title="Git submodules"></a>Git submodules</h2><p>I will use my blog site to illustrate the git submodules features. Recently, I have setup a blog site by using <a target="_blank" rel="noopener" href="https://hexo.io/">hexo</a>. The blog will use another hexo theme - <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-theme-freemind">freemind</a> from github. First, I have forked the project as <a target="_blank" rel="noopener" href="https://github.com/pnyiu/hexo-theme-freemind">https://github.com/pnyiu/hexo-theme-freemind</a>:</p>
<ol>
<li>Scenario one - include other git project in existing git project<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/pnyiu/hexo-theme-freemind.git themes/freemind</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">└── blog</span><br><span class="line">    ├── _config.yml</span><br><span class="line">    ├── db.json</span><br><span class="line">    ├── .deploy_git</span><br><span class="line">    ├── .git</span><br><span class="line">    ├── .gitignore</span><br><span class="line">    ├── node_modules</span><br><span class="line">    ├── package.json</span><br><span class="line">    ├── public</span><br><span class="line">    ├── scaffolds</span><br><span class="line">    ├── <span class="built_in">source</span></span><br><span class="line">    └── themes</span><br><span class="line">        └── freemind</span><br><span class="line">            ├── _config.yml</span><br><span class="line">            ├── .git</span><br><span class="line">            ├── .gitignore</span><br><span class="line">            ├── languages</span><br><span class="line">            ├── layout</span><br><span class="line">            ├── LICENSE</span><br><span class="line">            ├── package.json</span><br><span class="line">            ├── README.md</span><br><span class="line">            └── <span class="built_in">source</span></span><br></pre></td></tr></table></figure>
The blog repository simply ignore the freemind repository <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/10360342/git-clone-into-another-existing-git-repo">stackoverflow</a>.</li>
<li><strong>Scenario two</strong> - use git submodules   <blockquote><p>Submodules allow you to keep a Git repository as a subdirectory of another Git repository. This lets you clone another repository into your project and keep your commits separate.</p>
<p>It’s quite likely that if you’re using submodules, you’re doing so because you really want to work on the code in the submodule at the same time as you’re working on the code in the main project (or across several submodules). Otherwise you would probably instead be using a simpler dependency management system (such as Maven or Rubygems).   </p>
<footer><strong>Pro Git</strong><cite><a target="_blank" rel="noopener" href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">7.11 Git Tools - Submodules</a></cite></footer></blockquote>
Use <code>git submodule add &lt;repo_url&gt;</code> to add submodule as below:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git submodule add https://github.com/pnyiu/hexo-theme-freemind.git themes/freemind</span><br><span class="line">Cloning into <span class="string">&#x27;themes/freemind&#x27;</span>...</span><br><span class="line">remote: Counting objects: 1390, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (22/22), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 1390 (delta 9), reused 5 (delta 0), pack-reused 1367</span><br><span class="line">Receiving objects: 100% (1390/1390), 1.91 MiB | 302.00 KiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (814/814), <span class="keyword">done</span>.</span><br><span class="line">Checking connectivity... <span class="keyword">done</span>.</span><br><span class="line">$ tree -L 1 -a</span><br><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── db.json</span><br><span class="line">├── .deploy_git</span><br><span class="line">├── .git</span><br><span class="line">├── .gitignore</span><br><span class="line">├── .gitmodules</span><br><span class="line">├── node_modules</span><br><span class="line">├── package.json</span><br><span class="line">├── public</span><br><span class="line">├── scaffolds</span><br><span class="line">├── <span class="built_in">source</span></span><br><span class="line">└── themes</span><br><span class="line">$ cat .gitmodules</span><br><span class="line">[submodule <span class="string">&quot;themes/freemind&quot;</span>]</span><br><span class="line">       path = themes/freemind</span><br><span class="line">       url = https://github.com/pnyiu/hexo-theme-freemind.git</span><br></pre></td></tr></table></figure>
<ul>
<li>New file <code>.gitmodules</code> is created to keep track the submodules path and url.</li>
<li>Git would get the changes and update the files in the subdirectory but will leave the sub-repository    in what’s called a <code>detached HEAD</code> state. This means that there is no local working branch (like <code>master</code>, for example) tracking changes.</li>
<li>Doesn’t track submodule contents when you’re not in that directory</li>
<li>For <strong>new project</strong> with submodules, use (<code>git submodule init</code> and <code>git submodule update</code>) or <code>git clone --recursive</code> to initialize and fetch all data from that project and submodules.</li>
</ul>
</li>
</ol>
<h2 id="Conflicts-with-modified-files-when-switch-to-another-branch"><a href="#Conflicts-with-modified-files-when-switch-to-another-branch" class="headerlink" title="Conflicts with modified files when switch to another branch"></a>Conflicts with modified files when switch to another branch</h2><p>It is common to work with multiple branches. For example, if we are working the file test.html:</p>
<ol>
<li>Update test.html in master branch</li>
<li>Switch to testbranch branch, update and commit the changes to git</li>
<li>Switch to master branch, update the test.html and do not commit the changes Then, switch to testbranch but failed</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git init</span><br><span class="line">$ git status</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;Created at master branch&quot;</span> &gt; test.html</span><br><span class="line">$ git add test.html</span><br><span class="line">$ git commit -m <span class="string">&quot;Commit test.html at master branch&quot;</span></span><br><span class="line">$ git checkout -b <span class="built_in">test</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;Modified at test branch&quot;</span> &gt;&gt; test.html</span><br><span class="line">$ git commit -a -m <span class="string">&quot;Commit at test branch&quot;</span> <span class="comment"># Use -a to stage modified tracking files</span></span><br><span class="line">$ git checkout master</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;Modified at master branch&quot;</span> &gt;&gt; test.html</span><br><span class="line">$ git checkout <span class="built_in">test</span></span><br><span class="line">error: Your <span class="built_in">local</span> changes to the following files would be overwritten by checkout:</span><br><span class="line">test.html</span><br><span class="line">Please, commit your changes or stash them before you can switch branches.</span><br><span class="line">Aborting</span><br></pre></td></tr></table></figure>
<hr>
<img src="/images/git%20conflict.png" class="">
<hr>
<h2 id="Use-ssh-for-authentication"><a href="#Use-ssh-for-authentication" class="headerlink" title="Use ssh for authentication"></a>Use ssh for authentication</h2><h3 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h3><ul>
<li>Generate new SSH key / use existing SSH key<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># List your existing SSH keys</span><br><span class="line">$ ls ~/.ssh -l</span><br><span class="line">total 40</span><br><span class="line">-rw-r--r-- 1 calviny calviny   172 Jul 21 11:52 config</span><br><span class="line">-rw------- 1 calviny calviny  1679 Jul  4  2019 pnyiu</span><br><span class="line">-rw-r--r-- 1 calviny calviny   404 Jul  4  2019 pnyiu.pub</span><br><span class="line">-rw------- 1 calviny calviny 25292 Jul 21 12:00 known_hosts</span><br><span class="line"></span><br><span class="line"># Generating a new SSH key</span><br><span class="line">ssh-keygen -t ed25519 -C &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure></li>
<li>Add a new SSH key to <a target="_blank" rel="noopener" href="https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">GitHub</a><ul>
<li>Click your profile photo, then click Settings</li>
<li>Click SSH and GPG keys</li>
<li>Click New SSH key or Add SSH key</li>
<li>Copy and paste the public key in the Key field</li>
<li>Update ~/.ssh/config<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~/.ssh/pnyiu</span><br></pre></td></tr></table></figure></li>
<li>Test SSH connection<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="AWS-CodeCommit"><a href="#AWS-CodeCommit" class="headerlink" title="AWS CodeCommit"></a>AWS CodeCommit</h3><ul>
<li>Generate new SSH / use existing SSH key</li>
<li>Upload to AWS by Identity and Access Management (IAM)  <img src="/images/2021-08-30%2016_39_48-IAM%20Management%20Console.png" class=""></li>
<li>Update ~/.ssh/config (refer to GitHub example)  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host git-codecommit.*.amazonaws.com</span><br><span class="line">User &lt;SSH key ID&gt;</span><br><span class="line">IdentityFile ~/.ssh/pnyiu</span><br></pre></td></tr></table></figure></li>
<li>Clone the repository  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> ssh://&lt;SSH key ID&gt;@git-codecommit.ap-east-1.amazonaws.com/v1/repos/my-repo</span><br></pre></td></tr></table></figure></li>
<li>Check the remote configuration  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git remote show origin</span><br><span class="line">* remote origin</span><br><span class="line">Fetch URL: ssh://&lt;SSH key ID&gt;@git-codecommit.ap-east-1.amazonaws.com/v1/repos/my-repo</span><br><span class="line">Push  URL: ssh://&lt;SSH key ID&gt;@git-codecommit.ap-east-1.amazonaws.com/v1/repos/my-repo</span><br></pre></td></tr></table></figure></li>
</ul>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/2017/08/04/CORS-AJAX/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/2017/08/01/HTTP-Cache/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>

    <!-- share -->
    
        

        

    
	
	<!-- comment -->
	

	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2017-08-02 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/SCM/">SCM<span>1</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/Git/">Git<span>1</span></a></li>
    </ul>
	</div>
	

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Basic-Concepts"><span class="toc-article-text">Basic Concepts</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Useful-Commands"><span class="toc-article-text">Useful Commands</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Git-submodules"><span class="toc-article-text">Git submodules</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Conflicts-with-modified-files-when-switch-to-another-branch"><span class="toc-article-text">Conflicts with modified files when switch to another branch</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Use-ssh-for-authentication"><span class="toc-article-text">Use ssh for authentication</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#GitHub"><span class="toc-article-text">GitHub</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#AWS-CodeCommit"><span class="toc-article-text">AWS CodeCommit</span></a></li></ol></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2021 Calvin Yiu
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p>

 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>




<!-- syntax highlighting -->


</body>
   </html>
